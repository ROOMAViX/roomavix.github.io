<!DOCTYPE html>
<html>
<head>
<title>TypeWriter</title>
</head>
<body>
<div id="typewriter"></div>

<script>
var str = "<p>This is my <span style='color:red;'>special string</span> with an image !</p>",
    i = 0,
    isTag,
    text,
    mcx = 0;

(function type() {
    text = str.slice(0, ++i);
    if (text === str) return;
    
    document.getElementById('typewriter').innerHTML = text;

    if(mcx++ % 2 == 0)
        document.getElementById('typewriter').innerHTML += "<b>_</b>";

    var char = text.slice(-1);
    if( char === '<' ) isTag = true;
    if( char === '>' ) isTag = false;

    if (isTag) return type();
    setTimeout(type, 80);
}());
</script>

</body>
</html>
